<!DOCTYPE html>
<ui:composition template="/WEB-INF/template/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui">

	<f:metadata>
		<f:viewAction action="#{alterarSenhaBean.preparar}" />
	</f:metadata>

	<ui:define name="titulo">Alterar Senha</ui:define>

	<ui:define name="corpo">

		<h:form id="frm">
			<p:messages showDetail="false" showSummary="true" autoUpdate="true" />
			
			<p:fieldset legend="AlteraÃ§Ã£o de Senha">
				<h:panelGrid columns="2">
					<h:outputLabel value="UsuÃ¡rio: "/>
					<h:outputLabel value="#{alterarSenhaBean.usuario.nome}"/>
					<h:outputLabel value="Senha atual: "/>
					<p:password value="#{alterarSenhaBean.senhaAtual}"/>
					<h:outputLabel value="Nova senha: "/>
					<p:password value="#{alterarSenhaBean.senhaNova}"/>
					<h:outputLabel value="Confima nova senha: "/>
					<p:password value="#{alterarSenhaBean.senhaNovaConfirmacao}"/>
					<p:commandButton value="Atualizar" icon="fa fa-fw fa-refresh" 
						ajax="false" styleClass="ui-priority-primary"
						action="#{alterarSenhaBean.alterarSenha}">
						<f:setPropertyActionListener target="#{alterarSenhaBean.usuario}" value="#{loginBean.usuario}"/>
					</p:commandButton>
				</h:panelGrid>
			</p:fieldset>
		</h:form>
	</ui:define>
</ui:composition>